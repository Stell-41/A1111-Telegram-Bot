# Telegram-–±–æ—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º—Ç–æ–≤ –ø–æ–¥ Automatic1111

–≠—Ç–æ—Ç Telegram-–±–æ—Ç ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º—Ç–æ–≤ –¥–ª—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ Stable Diffusion (—á–µ—Ä–µ–∑ WebUI –æ—Ç AUTOMATIC1111). –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, –ø–æ–∑, –æ–∫—Ä—É–∂–µ–Ω–∏–π –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤, –∞ —Ç–∞–∫–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–¥–∞–Ω–∏—è –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

![–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞](https://i.imgur.com/example.png) ## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **–ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞ –ø—Ä–æ–º—Ç–æ–≤**: –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–æ–º—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
-   **–£–º–Ω—ã–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º—Ç—ã**: –í—Å—ë, —á—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–º –ø—Ä–æ–º—Ç–µ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ü–∏–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π.
-   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API Automatic1111**: –ë–æ—Ç –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç –≤ –≤–∞—à—É –Ω–µ–π—Ä–æ—Å–µ—Ç—å –∏ –ø—Ä–∏—Å—ã–ª–∞—Ç—å –≥–æ—Ç–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ —á–∞—Ç.
-   **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π**: –í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏ –∏—Ö —Ç–µ–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç–æ–º –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `JSON` —Ñ–∞–π–ª–µ.
-   **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø—Ä—è–º–æ —á–µ—Ä–µ–∑ —á–∞—Ç —Å –±–æ—Ç–æ–º.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

-   Python 3.10+
-   –ó–∞–ø—É—â–µ–Ω–Ω—ã–π WebUI Automatic1111 –Ω–∞ –≤–∞—à–µ–º –ü–ö –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–µ.
-   Telegram-–∫–ª–∏–µ–Ω—Ç.

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Automatic1111

–ß—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –≤–∞—à–µ–π –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –µ—ë –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π API.

1.  –ù–∞–π–¥–∏—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `webui-user.bat` (–¥–ª—è Windows) –∏–ª–∏ `webui-user.sh` (–¥–ª—è Linux).
2.  –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É `set COMMANDLINE_ARGS=`.
3.  –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ–µ –¥–≤–∞ —Ñ–ª–∞–≥–∞: `--api` –∏ `--listen`.
    -   `--api` –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
    -   `--listen` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ Orange Pi, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –±–æ—Ç).

    –ü—Ä–∏–º–µ—Ä: `set COMMANDLINE_ARGS=--xformers --api --listen`
4.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Firewall**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä (Firewall) –Ω–∞ –ü–ö —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ –ø–æ—Ä—Ç—É `7860`.

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone [https://github.com/your-username/A1111-Prompt-Bot.git](https://github.com/your-username/A1111-Prompt-Bot.git)
    cd A1111-Prompt-Bot
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```

3.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
    -   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `config_example.py` –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –≤ `config.py`.
    -   –û—Ç–∫—Ä–æ–π—Ç–µ `config.py` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ: —Ç–æ–∫–µ–Ω –±–æ—Ç–∞, –≤–∞—à ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ URL –¥–ª—è API A1111.
    ```python
    # config.py
    BOT_TOKEN = "1234567890:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
    ADMIN_IDS = [123456789]
    A1111_API_URL = "[http://192.168.1.42:7860](http://192.168.1.42:7860)"
    ```

4.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π:**
    -   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `data/characters_example.json` –≤ `data/characters.json`.
    -   –í—ã –º–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª, –¥–æ–±–∞–≤–∏–≤ —Å–≤–æ–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.

5.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
    ```bash
    python main.py
    ```

---

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-   `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
-   `/generate` - –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º—Ç–æ–≤. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –±–æ—Ç–∞, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏ –∑–∞–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

### –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
-   `/admin` - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –≥–¥–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.